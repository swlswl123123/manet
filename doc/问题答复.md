---
title: 附件1:12月14日问题答复
papersize: a4
mainfont: Times New Roman
fontsize: 12pt
CJKmainfont: SimSun
cref: true
codeBlockCaptions: true
linkReferences: true
book: true
classoption: [oneside]
linestretch: 1.5
code-block-font-size: \scriptsize
titlepage: true
lot: false
toc: false
lof: false
loc: false
---

# 问题反馈

1. P12：图中 CONV 模块将 6 字节的 IP 地址转为了 1 字节，是如何实现映射的？IP 是否静态，若使用 DHCP，则如何实现分配?

    新版方案已将CONV模块去除，其功能集成在MAC层的EMAC地址映射模块(如图5.1所示)。IP分配方式由用户实际业务需求确定，本系统既支持静态IP也支持DHCP分配方式，但本系统并不负责实现DHCP功能，DHCP协议在本系统上的工作流程详见第8章。

2. P22：图中的“逻辑信道解复用”是如何实现和使用的？

    新版方案已修改该配图(图5.1)，并对MAC层功能描述进行了细化，已删除该定义。


3. P32：需要按 QFI 所分类的业务类型，说明 TM、UM 和 AM 几种传输模式所服务的业务数据对象。

    新版方案将RLC重传控制层下移至MAC层，均采用AM模式，详见MAC层重传控制设计。

4. P33：如何创建和撤销 RLC 实体，是否在线动态创建，且如何在 FPGA中实例化？

    新版方案将RLC重传控制层下移至MAC层，模块不支持动态创建和撤销。

5. P34：提到了 RX_Next_Highesst 等许多参数，但未说明各个参数的实际定义和作用。

    详见新版方案MAC层重传控制。


6. P35：AM 模式和 UM 模式中的 PDU 接收处理流程建议表述为流程图或其他描述方式。

    详见新版方案MAC层重传控制部分。

7. P40、P41：包格式中的 P、SI、SO、SOstart 等多个字段的定义和作用未有明确解说。

    详见新版方案MAC层重传控制相关数据包格式说明。

8. P52：“OP 节点”在文档内没有明确说明是什么。

    笔误，指上文中OM节点。

9. P54：在第二轮的扫描模式选择中是否仍采用 1/2 概率随机确定。

    是。

10. P58：基本时隙和扩展时隙分配都采用了邻居协商自主确定的方式，但在业务负荷超载情况下，高优先级业务如何抢占获得传输信道资源？且在协商过程中，如何解决与 2hop 邻居信道冲突？此部分关系到了整个网络的稳定性和可靠性，需要在设计过程中考虑各种冲突和意外处理。

    本方案不按传输业务类型划分传输信道，紧急业务拥有较高优先级，传输时位于优先级队列的前部以保障按时送达；除此之外，还设计了紧急业务时隙分配机制(详见10.3.3和图7.3)，在这种机制下，紧急业务传输节点会优先释放其他链路上分配的扩展时隙，用于保障紧急业务链路传输需求。
    本方案采用的扩展时隙协商确定机制仅在传输业务流量较大时生效，且按照定向链路对每个时隙进行细粒度分配，两跳内时隙分配冲突时先申请者优先获得时隙使用权。对于本文设计的系统架构，时隙分配策略可以通过软件更新的形式进行快速迭代升级，最新的算法和理论研究成果可以得到较快的应用。
    另外，本方案仿真验证环节也验证了系统紧急业务处理的有效性。

11. RLC 层添加的 RLC 字段所代表的意义？与后续文档介绍的 RLC 帧格式长度不一致

    新版方案已将RLC层功能简化为MAC层重传控制模块，并详细叙述了数据包各字段含义。

12. 如果多个同类型目的节点相同的上层业务数据，如何处理？

    按照业务到达MAC层的先后顺序进行处理。

13. 希望后续方案能就更换硬件导致配置丢失后，如何自适应的处理？

    将会体现在详细设计报告中。

14. 如果广播节点的一个波束内有两个侦听节点，如何处理？

    至多仅会建立一条链路，未能成功建立链路的节点之间通过其他节点中继进行通信。

15. P54 的 14 点，以多次时钟偏置换取时间窗口的对准，如果都是无时统节点，分析同步的效率。

    后续方案设计中会针对该问题进行补充说明。

16. 9.3.2 节第 2 点是否写错了，而且该节只描述了一种情况下的处理方式，未列另一种情况的。

    已修改。

17. P21 中 MAC 层的 HARQ 机制和 RLC 层的 ARQ 机制有何区别？它们是如何配合的？

    新版方案中只采用一层重传机制，详见MAC层重传控制机制。

18. 表 1 中的业务划分与 P25 第 9 点提到的四种信息是如何对应的？

    已修改，仅区分控制数据/非控制数据，紧急业务/普通业务。


19. 在 9.2 节给出的时间同步策略中，两个节点时间不一致时如何确定该同步到哪个时间？相隔较远的两个节点开始同步，可能造成两个节点集合同步的时间不一致，如何解决这个问题？

    无时统节点开机后将节点经历两轮90s的扫描，在这个过程中，会记录与本节点成功握手的具有最小节点号的id及其时钟相对于本节点时钟的偏移情况，并在后续握手中将该信息扩散至其他成功握手的无时统节点。节点接收到该信息后比较该时钟id是否比自己已知所有节点的id小，若是则记录该节点相对本节点时钟偏差及其id。通过上述机制，对于连通网络，网络中具备最小id的节点时钟信息被扩散至全网。当90s扫描结束后，所有节点根据其与最小时钟id的时钟的偏移量调整本地时钟。

时钟不一致问题需待后续设计中进行解决。

20. 虽然网络拓扑不会快速变化，但是链路分配信息有可能快速变化，根据Dijkstra算法计算最短链路在网络规模较大时如何保证高优先级业务的时延？

    通过每5s广播一次的链路资源与负载信息更新Dijkstra算法中邻接矩阵的的权重，此时最短路径算法中计算出的最短路径长度代表该条路径的预期时延。节点将预期时延最短的路径下跳地址通过转发表下发流程下发至MAC层。

21.  当新节点加入或旧节点退出网络时如何向全网广播该消息？

    节点入网时，与邻居建立连接会产生链路广播数据包。节点退网时链路状态发生变化，也会产生链路广播数据包。接收到该广播的节点重新计算路由转发表。除此之外，网络中所有节点每五秒钟向全网广播自己的链路状态和负载信息。

# 补充内容

1. 补充 RRC 章节内容

    已补充。

2. 补充信道编码详细实现方法

    见后续物理层详细设计报告。

3. 多个子网间的时间同步实现方法以及子网合并融合方法

    正在论证中，后续方案进行补充。

4. RLC 中 SDU 和 PDU 详细处理过程方法

    已补充

5. OFDM 前端非线性分析与对应处理方法
6. OFDM 相控阵传输多通道幅相不一致性分析与对应处理方法
7. OFDM 接收端信道估计与均衡方法
8. 补充 16QAM 峰均比高的解决方法
9. 多速率自适应切换方法
    
    见后续物理层详细设计报告。

10. 全为无时统节点的情况的同步和组网方法

    正在论证中，后续方案进行补充。

11. CPU 和 FPGA 的数据同步交互方法

    CPU端:修改Linux内核参数配置，提升中断响应实时性。采用Xilinx提供的Linux PCIe内核驱动程序。
    FPGA端:采用Xilinx 高速 PCIe DMA IP核。

    详细设计见后续设计报告。

12. Conv 模块为以太网 MAC 帧到本方案的协议转换。但没有对拼包/组包的介绍，尤其是其采用 RLC-SDU 的方式，如何拼组包

    已修改设计，详见MAC层设计

13. 补充说明 PDCP 协议的作用

    该功能层已移除。

14. 补充四面阵的硬件接入设计

    问题不明确，待讨论确定。